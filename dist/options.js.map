{"version":3,"file":"options.js","mappings":"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","sources":["webpack://workspace/webpack/runtime/chunk loaded","webpack://workspace/./src/ui/options.ts","webpack://workspace/webpack/bootstrap","webpack://workspace/webpack/runtime/define property getters","webpack://workspace/webpack/runtime/hasOwnProperty shorthand","webpack://workspace/webpack/runtime/jsonp chunk loading","webpack://workspace/webpack/startup"],"sourcesContent":["var deferred = [];\n__webpack_require__.O = (result, chunkIds, fn, priority) => {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar [chunkIds, fn, priority] = deferred[i];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every((key) => (__webpack_require__.O[key](chunkIds[j])))) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","import { ScrapeResult, StorageData } from '../types';\nimport { storage } from '../core/storage';\nimport { Logger, toastManager } from '../core/logger';\nimport { formatPrice, formatMileage, generateFacebookTitle } from '../core/normalize';\n\nclass OptionsManager {\n  private logger = new Logger('Options');\n  private currentData: StorageData | null = null;\n  private filteredResults: ScrapeResult[] = [];\n  private currentSection: string = 'inventory';\n\n  constructor() {\n    this.init();\n  }\n\n  private async init(): Promise<void> {\n    this.logger.info('Initializing options page');\n    \n    try {\n      // Setup navigation\n      this.setupNavigation();\n      \n      // Setup event listeners\n      this.setupEventListeners();\n      \n      // Load initial data\n      await this.loadData();\n      \n      // Show initial section\n      this.showSection('inventory');\n      \n      this.logger.info('Options page initialized successfully');\n    } catch (error) {\n      this.logger.error('Failed to initialize options page:', error);\n      this.showError('Failed to initialize application');\n    }\n  }\n\n  private setupNavigation(): void {\n    const navLinks = document.querySelectorAll('.nav-link');\n    \n    navLinks.forEach(link => {\n      link.addEventListener('click', (e) => {\n        e.preventDefault();\n        const section = (e.currentTarget as HTMLElement).dataset.section;\n        if (section) {\n          this.showSection(section);\n        }\n      });\n    });\n  }\n\n  private setupEventListeners(): void {\n    // Search and filters\n    const searchInput = document.getElementById('searchInput') as HTMLInputElement;\n    const searchBtn = document.getElementById('searchBtn');\n    const makeFilter = document.getElementById('makeFilter') as HTMLSelectElement;\n    const yearFilter = document.getElementById('yearFilter') as HTMLSelectElement;\n    const priceFilter = document.getElementById('priceFilter') as HTMLSelectElement;\n    const clearFilters = document.getElementById('clearFilters');\n\n    searchInput?.addEventListener('input', () => this.applyFilters());\n    searchBtn?.addEventListener('click', () => this.applyFilters());\n    makeFilter?.addEventListener('change', () => this.applyFilters());\n    yearFilter?.addEventListener('change', () => this.applyFilters());\n    priceFilter?.addEventListener('change', () => this.applyFilters());\n    clearFilters?.addEventListener('click', () => this.clearFilters());\n\n    // Header actions\n    const exportBtn = document.getElementById('exportBtn');\n    const importBtn = document.getElementById('importBtn');\n    const clearBtn = document.getElementById('clearBtn');\n\n    exportBtn?.addEventListener('click', () => this.exportData());\n    importBtn?.addEventListener('click', () => this.importData());\n    clearBtn?.addEventListener('click', () => this.clearAllData());\n\n    // Settings\n    const saveSettings = document.getElementById('saveSettings');\n    const resetSettings = document.getElementById('resetSettings');\n\n    saveSettings?.addEventListener('click', () => this.saveSettings());\n    resetSettings?.addEventListener('click', () => this.resetSettings());\n\n    // Modal\n    const modalClose = document.querySelector('.modal-close');\n    const vehicleModal = document.getElementById('vehicleModal');\n    \n    modalClose?.addEventListener('click', () => this.closeModal());\n    vehicleModal?.addEventListener('click', (e) => {\n      if (e.target === vehicleModal) this.closeModal();\n    });\n\n    // Import file input\n    const importFileInput = document.getElementById('importFileInput') as HTMLInputElement;\n    importFileInput?.addEventListener('change', (e) => this.handleFileImport(e));\n\n    this.logger.debug('Event listeners setup complete');\n  }\n\n  private showSection(section: string): void {\n    this.currentSection = section;\n    this.logger.debug(`Showing section: ${this.currentSection}`);\n    \n    // Update navigation\n    document.querySelectorAll('.nav-link').forEach(link => {\n      link.classList.remove('active');\n    });\n    document.querySelector(`[data-section=\"${section}\"]`)?.classList.add('active');\n\n    // Hide all sections\n    document.querySelectorAll('.content-section').forEach(section => {\n      section.classList.add('hidden');\n    });\n\n    // Show selected section\n    const sectionElement = document.getElementById(`${section}Section`);\n    sectionElement?.classList.remove('hidden');\n\n    // Update header\n    this.updateSectionHeader(section);\n\n    // Load section-specific data\n    switch (section) {\n      case 'inventory':\n        this.updateInventoryView();\n        break;\n      case 'analytics':\n        this.updateAnalyticsView();\n        break;\n      case 'settings':\n        this.updateSettingsView();\n        break;\n    }\n  }\n\n  private updateSectionHeader(section: string): void {\n    const titleElement = document.getElementById('sectionTitle');\n    const subtitleElement = document.getElementById('sectionSubtitle');\n    \n    const headers = {\n      inventory: { title: 'Inventory', subtitle: 'Manage your scraped vehicle data' },\n      analytics: { title: 'Analytics', subtitle: 'View insights and statistics' },\n      settings: { title: 'Settings', subtitle: 'Configure extension preferences' },\n      help: { title: 'Help', subtitle: 'Documentation and troubleshooting' }\n    };\n\n    const header = headers[section as keyof typeof headers];\n    if (titleElement) titleElement.textContent = header.title;\n    if (subtitleElement) subtitleElement.textContent = header.subtitle;\n  }\n\n  private async loadData(): Promise<void> {\n    try {\n      this.currentData = await storage.getData();\n      this.filteredResults = [...this.currentData.scrapeResults];\n      \n      this.updateStats();\n      this.populateFilters();\n      \n      this.logger.info(`Loaded ${this.currentData.scrapeResults.length} vehicle records`);\n    } catch (error) {\n      this.logger.error('Failed to load data:', error);\n      this.showError('Failed to load data');\n    }\n  }\n\n  private updateStats(): void {\n    if (!this.currentData) return;\n\n    const results = this.currentData.scrapeResults;\n    const now = Date.now();\n    const oneWeek = 7 * 24 * 60 * 60 * 1000;\n\n    // Total vehicles\n    const totalElement = document.getElementById('totalVehicles');\n    if (totalElement) totalElement.textContent = results.length.toString();\n\n    // Average price\n    const prices = results.map(r => r.vehicle.price).filter(p => p && p > 0) as number[];\n    const avgPrice = prices.length > 0 ? prices.reduce((a, b) => a + b, 0) / prices.length : 0;\n    const avgElement = document.getElementById('avgPrice');\n    if (avgElement) avgElement.textContent = formatPrice(avgPrice);\n\n    // Total value\n    const totalValue = prices.reduce((a, b) => a + b, 0);\n    const totalValueElement = document.getElementById('totalValue');\n    if (totalValueElement) totalValueElement.textContent = formatPrice(totalValue);\n\n    // Recent count (this week)\n    const recentCount = results.filter(r => now - r.scrapedAt < oneWeek).length;\n    const recentElement = document.getElementById('recentCount');\n    if (recentElement) recentElement.textContent = recentCount.toString();\n  }\n\n  private populateFilters(): void {\n    if (!this.currentData) return;\n\n    const results = this.currentData.scrapeResults;\n    \n    // Populate make filter\n    const makes = new Set(results.map(r => r.vehicle.make).filter(Boolean));\n    const makeFilter = document.getElementById('makeFilter') as HTMLSelectElement;\n    if (makeFilter) {\n      const currentValue = makeFilter.value;\n      makeFilter.innerHTML = '<option value=\"\">All Makes</option>';\n      \n      Array.from(makes).sort().forEach(make => {\n        const option = document.createElement('option');\n        option.value = make!;\n        option.textContent = make!;\n        makeFilter.appendChild(option);\n      });\n      \n      makeFilter.value = currentValue;\n    }\n\n    // Populate year filter\n    const years = new Set(results.map(r => r.vehicle.year).filter(Boolean));\n    const yearFilter = document.getElementById('yearFilter') as HTMLSelectElement;\n    if (yearFilter) {\n      const currentValue = yearFilter.value;\n      yearFilter.innerHTML = '<option value=\"\">All Years</option>';\n      \n      Array.from(years).sort((a, b) => b! - a!).forEach(year => {\n        const option = document.createElement('option');\n        option.value = year!.toString();\n        option.textContent = year!.toString();\n        yearFilter.appendChild(option);\n      });\n      \n      yearFilter.value = currentValue;\n    }\n  }\n\n  private applyFilters(): void {\n    if (!this.currentData) return;\n\n    const searchInput = document.getElementById('searchInput') as HTMLInputElement;\n    const makeFilter = document.getElementById('makeFilter') as HTMLSelectElement;\n    const yearFilter = document.getElementById('yearFilter') as HTMLSelectElement;\n    const priceFilter = document.getElementById('priceFilter') as HTMLSelectElement;\n\n    const searchTerm = searchInput?.value.toLowerCase() || '';\n    const selectedMake = makeFilter?.value || '';\n    const selectedYear = yearFilter?.value || '';\n    const selectedPriceRange = priceFilter?.value || '';\n\n    this.filteredResults = this.currentData.scrapeResults.filter(result => {\n      const vehicle = result.vehicle;\n      \n      // Search filter\n      if (searchTerm) {\n        const searchableText = [\n          vehicle.make,\n          vehicle.model,\n          vehicle.trim,\n          result.dealer.name\n        ].filter(Boolean).join(' ').toLowerCase();\n        \n        if (!searchableText.includes(searchTerm)) {\n          return false;\n        }\n      }\n      \n      // Make filter\n      if (selectedMake && vehicle.make !== selectedMake) {\n        return false;\n      }\n      \n      // Year filter\n      if (selectedYear && vehicle.year?.toString() !== selectedYear) {\n        return false;\n      }\n      \n      // Price filter\n      if (selectedPriceRange && vehicle.price) {\n        const price = vehicle.price;\n        switch (selectedPriceRange) {\n          case '0-20000':\n            if (price >= 20000) return false;\n            break;\n          case '20000-40000':\n            if (price < 20000 || price >= 40000) return false;\n            break;\n          case '40000-60000':\n            if (price < 40000 || price >= 60000) return false;\n            break;\n          case '60000+':\n            if (price < 60000) return false;\n            break;\n        }\n      }\n      \n      return true;\n    });\n\n    this.updateInventoryView();\n  }\n\n  private clearFilters(): void {\n    const searchInput = document.getElementById('searchInput') as HTMLInputElement;\n    const makeFilter = document.getElementById('makeFilter') as HTMLSelectElement;\n    const yearFilter = document.getElementById('yearFilter') as HTMLSelectElement;\n    const priceFilter = document.getElementById('priceFilter') as HTMLSelectElement;\n\n    if (searchInput) searchInput.value = '';\n    if (makeFilter) makeFilter.value = '';\n    if (yearFilter) yearFilter.value = '';\n    if (priceFilter) priceFilter.value = '';\n\n    this.applyFilters();\n  }\n\n  private updateInventoryView(): void {\n    const vehicleGrid = document.getElementById('vehicleGrid');\n    const emptyState = document.getElementById('emptyState');\n    \n    if (!vehicleGrid || !emptyState) return;\n\n    if (this.filteredResults.length === 0) {\n      vehicleGrid.innerHTML = '';\n      emptyState.classList.remove('hidden');\n      return;\n    }\n\n    emptyState.classList.add('hidden');\n    vehicleGrid.innerHTML = '';\n\n    this.filteredResults.forEach(result => {\n      const card = this.createVehicleCard(result);\n      vehicleGrid.appendChild(card);\n    });\n  }\n\n  private createVehicleCard(result: ScrapeResult): HTMLElement {\n    const card = document.createElement('div');\n    card.className = 'vehicle-card';\n    \n    const title = generateFacebookTitle(result.vehicle) || 'Unknown Vehicle';\n    const price = result.vehicle.price ? formatPrice(result.vehicle.price) : 'Price N/A';\n    const mileage = result.vehicle.mileage ? formatMileage(result.vehicle.mileage) : 'Mileage N/A';\n    const date = new Date(result.scrapedAt).toLocaleDateString();\n    const hostname = new URL(result.sourceUrl).hostname;\n    \n    const mainPhoto = result.photos.find(p => p.isMain) || result.photos[0];\n    const photoUrl = mainPhoto?.url || 'data:image/svg+xml,<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"100\" viewBox=\"0 0 100 100\"><rect width=\"100\" height=\"100\" fill=\"%23f3f4f6\"/><text x=\"50\" y=\"50\" text-anchor=\"middle\" dy=\".3em\" fill=\"%236b7280\">No Photo</text></svg>';\n\n    card.innerHTML = `\n      <div class=\"vehicle-photo\">\n        <img src=\"${photoUrl}\" alt=\"${title}\" onerror=\"this.src='data:image/svg+xml,<svg xmlns=\\\\\"http://www.w3.org/2000/svg\\\\\" width=\\\\\"200\\\\\" height=\\\\\"150\\\\\" viewBox=\\\\\"0 0 200 150\\\\\"><rect width=\\\\\"200\\\\\" height=\\\\\"150\\\\\" fill=\\\\\"%23f3f4f6\\\\\"/><text x=\\\\\"100\\\\\" y=\\\\\"75\\\\\" text-anchor=\\\\\"middle\\\\\" dy=\\\\\".3em\\\\\" fill=\\\\\"%236b7280\\\\\">No Photo</text></svg>'\">\n        <div class=\"photo-count\">${result.photos.length} ðŸ“·</div>\n      </div>\n      \n      <div class=\"vehicle-info\">\n        <h3 class=\"vehicle-title\">${title}</h3>\n        \n        <div class=\"vehicle-details\">\n          <div class=\"detail-row\">\n            <span class=\"detail-label\">Price:</span>\n            <span class=\"detail-value\">${price}</span>\n          </div>\n          <div class=\"detail-row\">\n            <span class=\"detail-label\">Mileage:</span>\n            <span class=\"detail-value\">${mileage}</span>\n          </div>\n          <div class=\"detail-row\">\n            <span class=\"detail-label\">Source:</span>\n            <span class=\"detail-value\">${hostname}</span>\n          </div>\n          <div class=\"detail-row\">\n            <span class=\"detail-label\">Scraped:</span>\n            <span class=\"detail-value\">${date}</span>\n          </div>\n        </div>\n        \n        <div class=\"vehicle-actions\">\n          <button class=\"btn btn-sm btn-primary\" onclick=\"optionsManager.openVehicleModal('${result.id}')\">\n            View Details\n          </button>\n          <button class=\"btn btn-sm btn-success\" onclick=\"optionsManager.openInFacebook('${result.id}')\">\n            Facebook\n          </button>\n        </div>\n      </div>\n    `;\n\n    return card;\n  }\n\n  private updateAnalyticsView(): void {\n    // This would require Chart.js or similar library\n    // For now, we'll show placeholder content\n    this.logger.info('Analytics view updated (placeholder)');\n  }\n\n  private updateSettingsView(): void {\n    if (!this.currentData) return;\n\n    const settings = this.currentData.settings;\n\n    // Facebook autofill settings\n    const conditionSelect = document.getElementById('defaultCondition') as HTMLSelectElement;\n    const uploadPhotosCheck = document.getElementById('uploadPhotos') as HTMLInputElement;\n    const maxPhotosInput = document.getElementById('maxPhotos') as HTMLInputElement;\n\n    if (conditionSelect) conditionSelect.value = settings.autofillOptions.condition || 'Used';\n    if (uploadPhotosCheck) uploadPhotosCheck.checked = settings.autofillOptions.uploadPhotos !== false;\n    if (maxPhotosInput) maxPhotosInput.value = (settings.autofillOptions.maxPhotos || 20).toString();\n\n    // Enabled sites\n    const siteCheckboxes = document.querySelectorAll('.site-item input[type=\"checkbox\"]');\n    siteCheckboxes.forEach(checkbox => {\n      const input = checkbox as HTMLInputElement;\n      input.checked = settings.enabledSites.includes(input.value);\n    });\n\n    // Storage info\n    this.updateStorageInfo();\n  }\n\n  private async updateStorageInfo(): Promise<void> {\n    try {\n      const stats = await storage.getStorageStats();\n      const progressElement = document.getElementById('storageProgress');\n      const textElement = document.getElementById('storageText');\n\n      if (progressElement) {\n        progressElement.style.width = `${stats.percentage}%`;\n      }\n\n      if (textElement) {\n        const usedKB = Math.round(stats.used / 1024);\n        const totalMB = Math.round(stats.total / (1024 * 1024));\n        textElement.textContent = `${usedKB} KB of ${totalMB} MB`;\n      }\n    } catch (error) {\n      this.logger.error('Failed to update storage info:', error);\n    }\n  }\n\n  // Public methods for global access\n  public async openVehicleModal(id: string): Promise<void> {\n    const result = this.currentData?.scrapeResults.find(r => r.id === id);\n    if (!result) return;\n\n    const modal = document.getElementById('vehicleModal');\n    const modalTitle = document.getElementById('modalTitle');\n    const modalBody = modal?.querySelector('.modal-body');\n\n    if (!modal || !modalBody) return;\n\n    // Set title\n    if (modalTitle) {\n      modalTitle.textContent = generateFacebookTitle(result.vehicle) || 'Vehicle Details';\n    }\n\n    // Populate modal body\n    modalBody.innerHTML = this.createVehicleDetailsHTML(result);\n\n    // Setup modal buttons\n    const facebookBtn = document.getElementById('modalFacebookBtn');\n    const downloadBtn = document.getElementById('modalDownloadBtn');\n    const deleteBtn = document.getElementById('modalDeleteBtn');\n\n    facebookBtn?.replaceWith(facebookBtn.cloneNode(true));\n    downloadBtn?.replaceWith(downloadBtn.cloneNode(true));\n    deleteBtn?.replaceWith(deleteBtn.cloneNode(true));\n\n    document.getElementById('modalFacebookBtn')?.addEventListener('click', () => {\n      this.openInFacebook(id);\n      this.closeModal();\n    });\n\n    document.getElementById('modalDownloadBtn')?.addEventListener('click', () => {\n      this.downloadPhotos(id);\n    });\n\n    document.getElementById('modalDeleteBtn')?.addEventListener('click', () => {\n      this.deleteVehicle(id);\n      this.closeModal();\n    });\n\n    // Show modal\n    modal.classList.remove('hidden');\n  }\n\n  public async openInFacebook(id: string): Promise<void> {\n    const result = this.currentData?.scrapeResults.find(r => r.id === id);\n    if (!result) return;\n\n    try {\n      const response = await chrome.runtime.sendMessage({\n        type: 'OPEN_FACEBOOK_MARKETPLACE',\n        scrapeResult: result\n      });\n\n      if (response.error) {\n        throw new Error(response.error);\n      }\n\n      toastManager.show('Facebook Marketplace opened!', 'success');\n    } catch (error) {\n      this.logger.error('Failed to open Facebook:', error);\n      this.showError('Failed to open Facebook: ' + (error as Error).message);\n    }\n  }\n\n  private createVehicleDetailsHTML(result: ScrapeResult): string {\n    const { vehicle, dealer, photos } = result;\n    \n    return `\n      <div class=\"vehicle-details-modal\">\n        <div class=\"details-section\">\n          <h4>Vehicle Information</h4>\n          <div class=\"details-grid\">\n            ${vehicle.year ? `<div class=\"detail-item\"><strong>Year:</strong> ${vehicle.year}</div>` : ''}\n            ${vehicle.make ? `<div class=\"detail-item\"><strong>Make:</strong> ${vehicle.make}</div>` : ''}\n            ${vehicle.model ? `<div class=\"detail-item\"><strong>Model:</strong> ${vehicle.model}</div>` : ''}\n            ${vehicle.trim ? `<div class=\"detail-item\"><strong>Trim:</strong> ${vehicle.trim}</div>` : ''}\n            ${vehicle.price ? `<div class=\"detail-item\"><strong>Price:</strong> ${formatPrice(vehicle.price)}</div>` : ''}\n            ${vehicle.mileage ? `<div class=\"detail-item\"><strong>Mileage:</strong> ${formatMileage(vehicle.mileage)}</div>` : ''}\n            ${vehicle.vin ? `<div class=\"detail-item\"><strong>VIN:</strong> ${vehicle.vin}</div>` : ''}\n            ${vehicle.exteriorColor ? `<div class=\"detail-item\"><strong>Exterior Color:</strong> ${vehicle.exteriorColor}</div>` : ''}\n            ${vehicle.interiorColor ? `<div class=\"detail-item\"><strong>Interior Color:</strong> ${vehicle.interiorColor}</div>` : ''}\n            ${vehicle.transmission ? `<div class=\"detail-item\"><strong>Transmission:</strong> ${vehicle.transmission}</div>` : ''}\n            ${vehicle.drivetrain ? `<div class=\"detail-item\"><strong>Drivetrain:</strong> ${vehicle.drivetrain}</div>` : ''}\n            ${vehicle.engine ? `<div class=\"detail-item\"><strong>Engine:</strong> ${vehicle.engine}</div>` : ''}\n            ${vehicle.fuelType ? `<div class=\"detail-item\"><strong>Fuel Type:</strong> ${vehicle.fuelType}</div>` : ''}\n          </div>\n        </div>\n\n        ${dealer.name ? `\n          <div class=\"details-section\">\n            <h4>Dealer Information</h4>\n            <div class=\"details-grid\">\n              ${dealer.name ? `<div class=\"detail-item\"><strong>Name:</strong> ${dealer.name}</div>` : ''}\n              ${dealer.phone ? `<div class=\"detail-item\"><strong>Phone:</strong> ${dealer.phone}</div>` : ''}\n              ${dealer.city ? `<div class=\"detail-item\"><strong>City:</strong> ${dealer.city}</div>` : ''}\n              ${dealer.state ? `<div class=\"detail-item\"><strong>State:</strong> ${dealer.state}</div>` : ''}\n              ${dealer.zip ? `<div class=\"detail-item\"><strong>ZIP:</strong> ${dealer.zip}</div>` : ''}\n            </div>\n          </div>\n        ` : ''}\n\n        ${photos.length > 0 ? `\n          <div class=\"details-section\">\n            <h4>Photos (${photos.length})</h4>\n            <div class=\"photos-grid\">\n              ${photos.slice(0, 6).map(photo => `\n                <img src=\"${photo.url}\" alt=\"Vehicle photo\" class=\"modal-photo\" \n                     onerror=\"this.style.display='none'\">\n              `).join('')}\n              ${photos.length > 6 ? `<div class=\"photos-more\">+${photos.length - 6} more</div>` : ''}\n            </div>\n          </div>\n        ` : ''}\n\n        ${vehicle.description ? `\n          <div class=\"details-section\">\n            <h4>Description</h4>\n            <p class=\"description-text\">${vehicle.description}</p>\n          </div>\n        ` : ''}\n      </div>\n    `;\n  }\n\n  private closeModal(): void {\n    const modal = document.getElementById('vehicleModal');\n    modal?.classList.add('hidden');\n  }\n\n  private async downloadPhotos(id: string): Promise<void> {\n    const result = this.currentData?.scrapeResults.find(r => r.id === id);\n    if (!result?.photos.length) return;\n\n    try {\n      const photoUrls = result.photos.map(p => p.url);\n      \n      const response = await chrome.runtime.sendMessage({\n        type: 'DOWNLOAD_PHOTOS',\n        photos: photoUrls\n      });\n\n      if (response.error) {\n        throw new Error(response.error);\n      }\n\n      toastManager.show(`Downloaded ${response.count} photos`, 'success');\n    } catch (error) {\n      this.logger.error('Failed to download photos:', error);\n      this.showError('Failed to download photos: ' + (error as Error).message);\n    }\n  }\n\n  private async deleteVehicle(id: string): Promise<void> {\n    try {\n      await storage.deleteScrapeResult(id);\n      await this.loadData();\n      this.updateInventoryView();\n      \n      toastManager.show('Vehicle deleted', 'success');\n    } catch (error) {\n      this.logger.error('Failed to delete vehicle:', error);\n      this.showError('Failed to delete vehicle');\n    }\n  }\n\n  private async exportData(): Promise<void> {\n    try {\n      const jsonData = await storage.exportData();\n      \n      const blob = new Blob([jsonData], { type: 'application/json' });\n      const url = URL.createObjectURL(blob);\n      \n      const a = document.createElement('a');\n      a.href = url;\n      a.download = `vehicle-scraper-data-${new Date().toISOString().split('T')[0]}.json`;\n      document.body.appendChild(a);\n      a.click();\n      document.body.removeChild(a);\n      URL.revokeObjectURL(url);\n      \n      toastManager.show('Data exported successfully', 'success');\n    } catch (error) {\n      this.logger.error('Failed to export data:', error);\n      this.showError('Failed to export data');\n    }\n  }\n\n  private importData(): void {\n    const fileInput = document.getElementById('importFileInput') as HTMLInputElement;\n    fileInput?.click();\n  }\n\n  private async handleFileImport(event: Event): Promise<void> {\n    const input = event.target as HTMLInputElement;\n    const file = input.files?.[0];\n    \n    if (!file) return;\n\n    try {\n      const text = await file.text();\n      await storage.importData(text);\n      await this.loadData();\n      this.updateInventoryView();\n      \n      toastManager.show('Data imported successfully', 'success');\n    } catch (error) {\n      this.logger.error('Failed to import data:', error);\n      this.showError('Failed to import data: ' + (error as Error).message);\n    }\n\n    input.value = ''; // Reset file input\n  }\n\n  private async clearAllData(): Promise<void> {\n    if (!confirm('Are you sure you want to delete all scraped vehicle data? This cannot be undone.')) {\n      return;\n    }\n\n    try {\n      await storage.clearScrapeResults();\n      await this.loadData();\n      this.updateInventoryView();\n      \n      toastManager.show('All data cleared', 'success');\n    } catch (error) {\n      this.logger.error('Failed to clear data:', error);\n      this.showError('Failed to clear data');\n    }\n  }\n\n  private async saveSettings(): Promise<void> {\n    try {\n      const conditionSelect = document.getElementById('defaultCondition') as HTMLSelectElement;\n      const uploadPhotosCheck = document.getElementById('uploadPhotos') as HTMLInputElement;\n      const maxPhotosInput = document.getElementById('maxPhotos') as HTMLInputElement;\n\n      const siteCheckboxes = document.querySelectorAll('.site-item input[type=\"checkbox\"]');\n      const enabledSites: string[] = [];\n      \n      siteCheckboxes.forEach(checkbox => {\n        const input = checkbox as HTMLInputElement;\n        if (input.checked) {\n          enabledSites.push(input.value);\n        }\n      });\n\n      const settings = {\n        autofillOptions: {\n          condition: conditionSelect?.value as 'New' | 'Used' | 'Certified Pre-Owned' || 'Used',\n          uploadPhotos: uploadPhotosCheck?.checked !== false,\n          maxPhotos: parseInt(maxPhotosInput?.value || '20')\n        },\n        enabledSites\n      };\n\n      await storage.saveSettings(settings);\n      \n      toastManager.show('Settings saved successfully', 'success');\n    } catch (error) {\n      this.logger.error('Failed to save settings:', error);\n      this.showError('Failed to save settings');\n    }\n  }\n\n  private async resetSettings(): Promise<void> {\n    if (!confirm('Reset all settings to defaults?')) {\n      return;\n    }\n\n    try {\n      const defaultSettings = {\n        autofillOptions: {\n          condition: 'Used' as const,\n          uploadPhotos: true,\n          maxPhotos: 20\n        },\n        enabledSites: ['autotrader.com', 'cars.com', 'cargurus.com', 'dealer.com']\n      };\n\n      await storage.saveSettings(defaultSettings);\n      this.updateSettingsView();\n      \n      toastManager.show('Settings reset to defaults', 'success');\n    } catch (error) {\n      this.logger.error('Failed to reset settings:', error);\n      this.showError('Failed to reset settings');\n    }\n  }\n\n  private showError(message: string): void {\n    toastManager.show(message, 'error');\n  }\n}\n\n// Make manager globally available for HTML onclick handlers\ndeclare global {\n  interface Window {\n    optionsManager: OptionsManager;\n  }\n}\n\n// Initialize when DOM is ready\nif (document.readyState === 'loading') {\n  document.addEventListener('DOMContentLoaded', () => {\n    window.optionsManager = new OptionsManager();\n  });\n} else {\n  window.optionsManager = new OptionsManager();\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t575: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = (chunkId) => (installedChunks[chunkId] === 0);\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = (parentChunkLoadingFunction, data) => {\n\tvar [chunkIds, moreModules, runtime] = data;\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some((id) => (installedChunks[id] !== 0))) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunkworkspace\"] = self[\"webpackChunkworkspace\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [76], () => (__webpack_require__(678)))\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["deferred","OptionsManager","constructor","logger","currentData","filteredResults","currentSection","this","init","info","setupNavigation","setupEventListeners","loadData","showSection","error","showError","document","querySelectorAll","forEach","link","addEventListener","e","preventDefault","section","currentTarget","dataset","searchInput","getElementById","searchBtn","makeFilter","yearFilter","priceFilter","clearFilters","applyFilters","exportBtn","importBtn","clearBtn","exportData","importData","clearAllData","saveSettings","resetSettings","modalClose","querySelector","vehicleModal","closeModal","target","importFileInput","handleFileImport","debug","classList","remove","add","sectionElement","updateSectionHeader","updateInventoryView","updateAnalyticsView","updateSettingsView","titleElement","subtitleElement","header","inventory","title","subtitle","analytics","settings","help","textContent","getData","scrapeResults","updateStats","populateFilters","length","results","now","Date","totalElement","toString","prices","map","r","vehicle","price","filter","p","avgPrice","reduce","a","b","avgElement","totalValue","totalValueElement","recentCount","scrapedAt","recentElement","makes","Set","make","Boolean","currentValue","value","innerHTML","Array","from","sort","option","createElement","appendChild","years","year","searchTerm","toLowerCase","selectedMake","selectedYear","selectedPriceRange","result","model","trim","dealer","name","join","includes","vehicleGrid","emptyState","card","createVehicleCard","className","mileage","date","toLocaleDateString","hostname","URL","sourceUrl","mainPhoto","photos","find","isMain","photoUrl","url","id","conditionSelect","uploadPhotosCheck","maxPhotosInput","autofillOptions","condition","checked","uploadPhotos","maxPhotos","checkbox","input","enabledSites","updateStorageInfo","stats","getStorageStats","progressElement","textElement","style","width","percentage","usedKB","Math","round","used","totalMB","total","openVehicleModal","modal","modalTitle","modalBody","createVehicleDetailsHTML","facebookBtn","downloadBtn","deleteBtn","replaceWith","cloneNode","openInFacebook","downloadPhotos","deleteVehicle","response","chrome","runtime","sendMessage","type","scrapeResult","Error","show","message","vin","exteriorColor","interiorColor","transmission","drivetrain","engine","fuelType","phone","city","state","zip","slice","photo","description","photoUrls","count","deleteScrapeResult","jsonData","blob","Blob","createObjectURL","href","download","toISOString","split","body","click","removeChild","revokeObjectURL","fileInput","event","file","files","text","confirm","clearScrapeResults","siteCheckboxes","push","parseInt","defaultSettings","readyState","window","optionsManager","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","exports","module","__webpack_modules__","m","O","chunkIds","fn","priority","notFulfilled","Infinity","i","fulfilled","j","Object","keys","every","key","splice","d","definition","o","defineProperty","enumerable","get","obj","prop","prototype","hasOwnProperty","call","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","data","moreModules","some","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}